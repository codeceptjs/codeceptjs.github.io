(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{405:function(t,e,s){"use strict";s.r(e);var a=s(14),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue-cli-plugin-e2e-codeceptjs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-e2e-codeceptjs"}},[t._v("#")]),t._v(" vue-cli-plugin-e2e-codeceptjs")]),t._v(" "),e("p",[e("em",[t._v("Hey, how about some end 2 end testing for your Vue apps?")]),t._v(" 🤔")]),t._v(" "),e("p",[e("em",[t._v("Let's do it together! Vue, me, "),e("a",{attrs:{href:"https://codecept.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("CodeceptJS"),e("OutboundLink")],1),t._v(" & "),e("a",{attrs:{href:"https://pptr.dev",target:"_blank",rel:"noopener noreferrer"}},[t._v("Puppeteer"),e("OutboundLink")],1),t._v(".")]),t._v(" 🤗")]),t._v(" "),e("p",[e("em",[t._v("Browser testing was never that simple. Just see it!")]),t._v(" 😍")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("amOnPage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("click")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My Component Button'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("see")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My Component'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I am happy!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// that's right, this is a valid test!")]),t._v("\n")])])]),e("h2",{attrs:{id:"how-to-try-it"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-try-it"}},[t._v("#")]),t._v(" How to try it?")]),t._v(" "),e("p",[e("strong",[t._v("Requirements:")])]),t._v(" "),e("ul",[e("li",[t._v("NodeJS >= 8.9")]),t._v(" "),e("li",[t._v("NPM / Yarn")]),t._v(" "),e("li",[t._v("Vue CLI installed globally")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm i vue-cli-plugin-codeceptjs-puppeteer --save-dev\n")])])]),e("p",[t._v("This will install CodeceptJS, CodeceptUI & Puppeteer with Chrome browser.")]),t._v(" "),e("p",[t._v("To add CodeceptJS to your project invoke installer:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("vue invoke vue-cli-plugin-codeceptjs-puppeteer\n")])])]),e("blockquote",[e("p",[t._v("You will be asked about installing a demo component. If you start a fresh project "),e("strong",[t._v("it is recommended to agree and install a demo component")]),t._v(", so you could see tests passing.")])]),t._v(" "),e("h2",{attrs:{id:"running-tests"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-tests"}},[t._v("#")]),t._v(" Running Tests")]),t._v(" "),e("p",[t._v("We added npm scripts:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("test:e2e")]),t._v(" - will execute tests with browser opened. If you installed test component, and started a test server, running this command will show you a brower window passed test.\n"),e("ul",[e("li",[t._v("Use "),e("code",[t._v("--headless")]),t._v(" option to run browser headlessly")]),t._v(" "),e("li",[t._v("Use "),e("code",[t._v("--serve")]),t._v(" option to start a dev server before tests")])])])]),t._v(" "),e("p",[t._v("Examples:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm run test:e2e\nnpm run test:e2e -- --headless\nnpm run test:e2e -- --serve\n")])])]),e("blockquote",[e("p",[t._v("This command is a wrapper for "),e("code",[t._v("codecept run --steps")]),t._v(". You can use the "),e("a",{attrs:{href:"/commands#run"}},[t._v("Run arguments and options")]),t._v(" here.")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("test:e2e:parallel")]),t._v(" - will execute tests headlessly in parallel processes (workers). By default runs tests in 2 workers.\n"),e("ul",[e("li",[t._v("Use an argument to set number of workers")]),t._v(" "),e("li",[t._v("Use "),e("code",[t._v("--serve")]),t._v(" option to start dev server before running")])])])]),t._v(" "),e("p",[t._v("Examples:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm run test:e2e:parallel\nnpm run test:e2e:parallel -- 3\nnpm run test:e2e:parallel -- 3 --serve\n")])])]),e("blockquote",[e("p",[t._v("This command is a wrapper for "),e("code",[t._v("codecept run-workers 2")]),t._v(". You can use the "),e("a",{attrs:{href:"/commands#run-workers"}},[t._v("Run arguments and options")]),t._v(" here.")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("test:e2e:open")]),t._v(" - this opens interactive web test runner. So you could see, review & run your tests from a browser.")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://user-images.githubusercontent.com/220264/70399222-b7a1bc00-1a2a-11ea-8f0b-2878b0328161.gif",alt:""}})]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm run test:e2e:open\n")])])]),e("h2",{attrs:{id:"directory-structure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#directory-structure"}},[t._v("#")]),t._v(" Directory Structure")]),t._v(" "),e("p",[t._v("Generator has created these files:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("codecept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js          👈 codeceptjs config\njsconfig"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json             👈 enabling type definitons\ntests\n├── e2e\n│   ├── app_test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js       👈 demo test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" edit it"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n│   ├── output            👈 temp directory "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" screenshots"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" etc\n│   └── support\n│       └── steps_file"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js 👈 common steps\n└── steps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ts            👈 type definitions\n")])])]),e("p",[t._v("If you agreed to create a demo component, you will also see "),e("code",[t._v("TestMe")]),t._v(" component in "),e("code",[t._v("src/components")]),t._v(" folder.")]),t._v(" "),e("h2",{attrs:{id:"locators"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#locators"}},[t._v("#")]),t._v(" Locators")]),t._v(" "),e("p",[t._v("For Vue apps a special "),e("code",[t._v("vue")]),t._v(" locator is available. It allows to select an element by its component name, and props.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyComponent'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Button'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Click Me'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("With Playwright, you can use Vue locators in any method where locator is required:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("click")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Tab'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Click Me!'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("I")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("seeElement")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vue")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'t'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Clicked'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("To find Vue element names and props in a tree use "),e("a",{attrs:{href:"https://chromewebstore.google.com/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue DevTools"),e("OutboundLink")],1),t._v(" extension.")]),t._v(" "),e("blockquote",[e("p",[t._v("Turn off minification for application builds otherwise component names will be uglified as well")])]),t._v(" "),e("p",[t._v("Vue locators work via "),e("a",{attrs:{href:"https://playwright.dev/docs/other-locators#vue-locator",target:"_blank",rel:"noopener noreferrer"}},[t._v("Playwright Vue Locator"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"how-to-write-tests"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-write-tests"}},[t._v("#")]),t._v(" How to write tests?")]),t._v(" "),e("ul",[e("li",[t._v("Open "),e("code",[t._v("tests/e2e/app_js")]),t._v(" and see the demo test")]),t._v(" "),e("li",[t._v("Execute a test & use interactive pause to see how CodeceptJS works")]),t._v(" "),e("li",[e("a",{attrs:{href:"/basics"}},[t._v("Learn CodeceptJS basics")])]),t._v(" "),e("li",[e("a",{attrs:{href:"/puppeteer"}},[t._v("Learn how to write CodeceptJS tests with Puppeteer")])]),t._v(" "),e("li",[e("a",{attrs:{href:"/helpers/Puppeteer"}},[t._v("See full reference for CodeceptJS Puppeteer Helper")])]),t._v(" "),e("li",[t._v("Ask your questions in "),e("a",{attrs:{href:"https://bit.ly/chat-codeceptjs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Slack"),e("OutboundLink")],1),t._v(" & "),e("a",{attrs:{href:"https://codecept.discourse.group/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Forum"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"enjoy-testing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enjoy-testing"}},[t._v("#")]),t._v(" Enjoy testing!")]),t._v(" "),e("p",[t._v("Testing is simple & fun, enjoy it!")]),t._v(" "),e("p",[t._v("With ❤ "),e("a",{attrs:{href:"https://codecept.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("CodeceptJS Team"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);